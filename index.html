<!DOCTYPE html>
<html><head>
<title>Khan's Web Design</title>
<link rel="stylesheet" href="./style.css" type="text/css">
<link rel="shortcut icon" type="image/x-icon" href="/lkhan.png">

<style>
			.highlighted-text {
	    background-color: yellow;
	    cursor: pointer;
	}
	
	.tooltip {
	    position: absolute;
	    background-color: black;
	    color: white;
	    padding: 5px 10px;
	    border-radius: 5px;
	    font-size: 12px;
	    cursor: pointer;
	    display: none;
	    z-index: 1000;
	}
	
	/* Sidebar */
	.highlight-sidebar {
	    position: fixed;
	    right: 0;
	    top: 0;
	    width: 250px;
	    height: 100vh;
	    background-color: white;
	    box-shadow: -2px 0px 5px rgba(0, 0, 0, 0.2);
	    padding: 15px;
	    overflow-y: auto;
	    transition: transform 0.3s ease-in-out;
	}
	
	.sidebar-header {
	    display: flex;
	    justify-content: space-between;
	    align-items: center;
	}
	
	#highlight-list {
	    list-style: none;
	    padding: 0;
	}
	
	#highlight-list li {
	    padding: 8px;
	    border-bottom: 1px solid #ddd;
	    cursor: pointer;
	}
	
	#highlight-list li:hover {
	    background-color: #f0f0f0;
	}
	
	#clear-highlights {
	    background: red;
	    color: white;
	    border: none;
	    padding: 5px 10px;
	    cursor: pointer;
	    border-radius: 5px;
	}

</style>
	
	
</head>
	<body>

<!--navbar!-->
	<div id="navbar">
		<a href="#contact">Contact</a>
	<a href="#portfolio">Portfolio</a>
	<a href="#">Home</a>
	</div>

		<div class='banner'>
		<video autoplay muted loop id="myVideo">
		<source src="laptop.mp4" type="video/mp4">
		</video>
	        <div class="overlay"></div> <!-- Transparent color block -->
			<h2>Websites by Laiba Khan</h2>
		 </div>

<!--Portfolio Section!-->		 
<div id='portfolio'>

<h3>Portfolio</h3>


        <script>
document.addEventListener("DOMContentLoaded", function () {
    let tooltip = createTooltip();
    let sidebar = createSidebar();

    document.addEventListener("mouseup", function () {
        let selection = window.getSelection();
        if (selection.toString().trim() !== "") {
            highlightSelection();
        }
    });

    document.addEventListener("click", function (event) {
        if (event.target.classList.contains("highlighted-text")) {
            showTooltip(event.target, event.pageX, event.pageY);
        } else {
            tooltip.style.display = "none";
        }
    });

    function highlightSelection() {
        let selection = window.getSelection();
        if (!selection.rangeCount) return;

        let range = selection.getRangeAt(0);
        let span = document.createElement("span");
        span.style.backgroundColor = "yellow";
        span.classList.add("highlighted-text");
        span.dataset.id = Date.now(); // Unique ID

        range.surroundContents(span);
        saveHighlights();
        updateSidebar();
    }

    function createTooltip() {
        let tooltip = document.createElement("div");
        tooltip.innerHTML = "Remove highlight";
        tooltip.classList.add("tooltip");
        document.body.appendChild(tooltip);

        tooltip.addEventListener("click", function () {
            removeHighlight(tooltip.targetElement);
            tooltip.style.display = "none";
        });

        return tooltip;
    }

    function showTooltip(element, x, y) {
        tooltip.style.left = `${x + 5}px`;
        tooltip.style.top = `${y + 5}px`;
        tooltip.style.display = "block";
        tooltip.targetElement = element;
    }

    function removeHighlight(element) {
        if (!element) return;
        let parent = element.parentNode;
        parent.replaceChild(document.createTextNode(element.textContent), element);
        saveHighlights();
        updateSidebar();
    }

    function saveHighlights() {
        let highlights = document.querySelectorAll(".highlighted-text");
        let highlightsData = [];

        highlights.forEach((highlight) => {
            highlightsData.push({
                id: highlight.dataset.id,
                text: highlight.textContent,
                position: highlight.getBoundingClientRect().top + window.scrollY,
            });
        });

        // Store highlights in localStorage (Persistent Cache)
        localStorage.setItem("highlights", JSON.stringify(highlightsData));
    }

    function loadHighlights() {
        let savedHighlights = JSON.parse(localStorage.getItem("highlights"));
        if (savedHighlights) {
            savedHighlights.forEach((highlightData) => {
                let elements = document.body.innerHTML;
                let highlightTag = `<span class="highlighted-text" data-id="${highlightData.id}" style="background-color:yellow;">${highlightData.text}</span>`;
                document.body.innerHTML = elements.replace(highlightData.text, highlightTag);
            });
        }
        updateSidebar();
    }

    function createSidebar() {
        let sidebar = document.createElement("div");
        sidebar.classList.add("highlight-sidebar");
        sidebar.innerHTML = `
            <div class="sidebar-header">
                <h3>Highlights</h3>
                <button id="clear-highlights">ðŸ—‘ Clear All</button>
            </div>
            <ul id="highlight-list"></ul>
        `;
        document.body.appendChild(sidebar);

        document.getElementById("clear-highlights").addEventListener("click", function () {
            localStorage.removeItem("highlights");
            document.querySelectorAll(".highlighted-text").forEach((el) => el.outerHTML = el.textContent);
            updateSidebar();
        });

        return sidebar;
    }

    function updateSidebar() {
        let highlightList = document.getElementById("highlight-list");
        highlightList.innerHTML = ""; // Clear existing list

        let savedHighlights = JSON.parse(localStorage.getItem("highlights"));
        if (savedHighlights) {
            savedHighlights.forEach((highlightData) => {
                let listItem = document.createElement("li");
                listItem.textContent = highlightData.text;
                listItem.dataset.id = highlightData.id;

                listItem.addEventListener("click", function () {
                    window.scrollTo({ top: highlightData.position - 50, behavior: "smooth" });
                });

                highlightList.appendChild(listItem);
            });
        }
    }

    loadHighlights(); // Load highlights from cache when page loads
});
	</script>

	

</div>
</body>
</html>
